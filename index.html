<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="Gravenor offers elite services in education, diplomacy, translation, trade, and more, blending elegance with purpose.">
    <meta name="keywords" content="Gravenor, education, diplomacy, translation, trade, consulting, luxury services">
    <meta name="author" content="Mahmoud Keweisy">
    <title>Gravenor | Where Elegance Meets Purpose</title>

        <script>
            // Set theme before CSS loads to avoid flash of incorrect theme
            (function(){
                try{
                    var stored = localStorage.getItem('site-theme');
                    if(stored === 'light' || stored === 'dark'){
                        document.documentElement.setAttribute('data-theme', stored);
                    } else {
                        var mq = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
                        document.documentElement.setAttribute('data-theme', (mq && mq.matches) ? 'dark' : 'light');
                    }
                }catch(e){}
            })();
        </script>

    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <style>
        :root{
            --charcoal:#1E201E;
            --graphite:#3C3D37;
            --sage:#697565;
            --ivory:#ECDFCC;
            --accent-teal:#4E837F;
            --accent-deep:#2F6B63;
            --accent-deep-rgb:47,107,99;
            --accent-teal-rgb:78,131,127;
            --bg:var(--ivory);
            --surface:#E6DDD0;
            --nav-bg:#968b80; /* darker nav tone */
            --nav-text:#141412;
            --text:var(--charcoal);
            --muted-shadow:0 6px 18px rgba(0,0,0,0.12);
            --muted-border:rgba(30,32,30,0.08);
            --radius-lg:12px;
            --nav-height:86px;
            --nav-offset:calc(var(--nav-height) + 30px);
            --btn-glow:rgba(47,107,99,0.14);
            --transition:220ms;
            --card-min-height:360px;
            --max-width:1200px;
        }
        :root[data-theme="dark"]{
            --bg:#0e100f;
            --surface:#171917;
            --text:#ECDFCC;
            --muted-border:rgba(236,223,204,0.03);
            --muted-shadow:0 8px 30px rgba(0,0,0,0.5);
            --nav-bg:#131413;
            --nav-text:#fff;
            --nav-height:76px;
            --nav-offset:calc(var(--nav-height) + 20px);
            --btn-glow:rgba(78,131,127,0.12);
        }
        :root[data-theme="light"]{
            --bg:#ECDFCC;
            --surface:#E6DDD0;
            --text:#1E201E;
            --muted-border:rgba(30,32,30,0.08);
            --muted-shadow:0 6px 18px rgba(0,0,0,0.12);
            --nav-bg:#968b80;
            --nav-text:#141412;
            --btn-glow:rgba(47,107,99,0.14);
        }
        @media (prefers-color-scheme: dark){
            :root:not([data-theme]){ --bg:#0e100f; --surface:#171917; --text:#ECDFCC; --muted-border:rgba(236,223,204,0.03); --nav-bg:#131413; --nav-text:#fff; --btn-glow:rgba(78,131,127,0.12); }
        }

        *{ margin:0; padding:0; box-sizing:border-box; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
        html{ scroll-behavior:smooth; scroll-padding-top:var(--nav-offset); }
        html,body{ height:100%; }
        body{
            font-family:'Montserrat', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background:var(--bg);
            color:var(--text);
            line-height:1.7;
            overflow-x:hidden;
            padding-top:var(--nav-height);
            -webkit-tap-highlight-color: transparent;
        }

        a{ color:inherit; text-decoration:none; }
        a:hover, a:focus { text-decoration:none; }

        #background-canvas{ position:fixed; inset:0; width:100%; height:100%; z-index:-2; pointer-events:none; display:block; }

        nav{
            position:fixed; top:0; left:0; right:0; height:var(--nav-height);
            display:flex; align-items:center; justify-content:space-between; gap:20px;
            padding:10px 20px; background:rgba(20,22,20,0.95); color:#ffffff;
            z-index:99999; box-shadow:0 6px 22px rgba(0,0,0,0.3); border-bottom:1px solid rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
        }
        .nav-left{ display:flex; align-items:center; gap:12px; flex:0 0 auto; min-width:0; }
    .nav-center{ display:flex; align-items:center; justify-content:center; gap:12px; flex:1 1 auto; min-width:0; overflow:hidden; }
        .nav-right{ display:flex; align-items:center; gap:8px; flex:0 0 auto; }

        .nav-logo{ height:56px; display:block; object-fit:contain; }

    .nav-links{ display:flex; gap:18px; align-items:center; justify-content:center; white-space:nowrap; overflow:auto; scrollbar-width:none; -ms-overflow-style:none; }
    .nav-links::-webkit-scrollbar{ display:none; }
    .nav-links a{ color:#ffffff; font-weight:500; font-size:15px; padding:10px 8px; border-radius:6px; transition: color var(--transition), transform var(--transition), background var(--transition); display:inline-block; }
    .nav-links a:hover{ color:#9bd3cc; transform:translateY(-2px); text-decoration:none; }
        .language-dropdown{ position:relative; display:flex; align-items:center; gap:8px; }
    .language-toggle{ display:inline-flex; gap:8px; align-items:center; padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.12); background:transparent; color:#fff; cursor:pointer; font-weight:600; white-space:nowrap; }
        .language-toggle img{ width:20px; height:14px; display:block; }

    .language-menu{ display:none; position:absolute; top:calc(100% + 8px); right:0; left:auto; background:var(--nav-bg, #000); border:1px solid rgba(255,255,255,0.08); border-radius:8px; min-width:260px; max-width:92vw; max-height:calc(100vh - var(--nav-height) - 20px); overflow:auto; box-shadow:0 10px 30px rgba(0,0,0,0.4); padding:8px; z-index:999999; }
        .lang-block{ padding:8px 6px; border-bottom:1px solid rgba(0,0,0,0.03); }
        .lang-block:last-child{ border-bottom:none; }
    .lang-title{ font-size:13px; font-weight:700; margin-bottom:6px; color:var(--nav-text, #fff); opacity:0.9; }
    .lang-list{ display:flex; flex-wrap:wrap; gap:6px; }
    .lang-list button{ display:flex; gap:8px; align-items:center; background:transparent; border:none; padding:6px 8px; cursor:pointer; color:var(--nav-text, #fff); border-radius:6px; font-weight:600; }

    .theme-toggle{ display:inline-flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:10px; border:1px solid rgba(255,255,255,0.2); background:rgba(255,255,255,0.05); cursor:pointer; transition:transform .15s ease, box-shadow .18s ease, color .15s ease; color:#ffffff; }
        .theme-toggle:hover{ transform:translateY(-2px); box-shadow:0 10px 30px rgba(255,255,255,0.15); color:#9bd3cc; }

        .hamburger{ display:none; background:none; border:none; font-size:26px; color:var(--nav-text); cursor:pointer; }

        @media (max-width:980px){
            /* Keep container visible so fixed #navLinks can display when toggled */
            .nav-center{ display:block; }
            .nav-links{ display:none; position:fixed; top:var(--nav-height); left:0; right:0; flex-direction:column; gap:12px; background:var(--nav-bg, #000); padding:14px; box-shadow:0 10px 30px rgba(0,0,0,0.4); z-index:99998; }
            .nav-links.show{ display:flex; }
            .hamburger{ display:block; }
            .language-menu{ right:8px; left:auto; }
            nav{ padding:8px 12px; }
        }

        /* RTL safeguards: keep key UI elements in LTR layout so they don't flip off-screen */
        [dir="rtl"] nav,
        [dir="rtl"] .nav-left,
        [dir="rtl"] .nav-center,
        [dir="rtl"] .nav-right,
        [dir="rtl"] .nav-links,
        [dir="rtl"] .language-dropdown,
        [dir="rtl"] .language-menu,
        [dir="rtl"] .services-strip,
        [dir="rtl"] #servicesGrid,
        [dir="rtl"] .svc-dots,
        [dir="rtl"] .gallery-full{
            direction:ltr;
        }
        /* Ensure language dropdown stays on-screen in RTL too */
        [dir="rtl"] .language-menu{ right:0; left:auto; }

        /* Keep structural containers LTR to avoid layout flips, but render text RTL */
        [dir="rtl"] body,
        [dir="rtl"] header,
        [dir="rtl"] section,
        [dir="rtl"] footer,
        [dir="rtl"] .section-light,
        [dir="rtl"] .brand-values,
        [dir="rtl"] .news-grid,
        [dir="rtl"] #contact .contact-card,
        [dir="rtl"] .partners-logos{
            direction:ltr;
        }
        [dir="rtl"] h1,
        [dir="rtl"] h2,
        [dir="rtl"] h3,
        [dir="rtl"] h4,
        [dir="rtl"] h5,
        [dir="rtl"] h6,
        [dir="rtl"] p,
        [dir="rtl"] .testimonial,
        [dir="rtl"] .motto,
        [dir="rtl"] .news-meta,
        [dir="rtl"] .news-card h3,
        [dir="rtl"] .news-card p{
            direction:rtl;
            text-align:right;
        }

        /* Keep titles centered in RTL (Arabic) */
        [dir="rtl"] h2{ text-align:center !important; }
        [dir="rtl"] .service-card .top h3{ text-align:center !important; }
        [dir="rtl"] .collab-title{ text-align:center !important; }

    header{ display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:88px 16px 16px; background:var(--bg); max-width:var(--max-width); margin:0 auto; }
        /* Hero banner with scroll-zoom */
    header.hero-banner{ position:relative; overflow:hidden; isolation:isolate; border-radius:0; min-height:35vh; width:100vw; max-width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw); }
    @media (max-width:980px){ header.hero-banner{ min-height:30vh; } }
    @media (max-width:640px){ header.hero-banner{ min-height:25vh; } }
        header.hero-banner::before{
            content:""; position:absolute; inset:0; z-index:-1;
            background-image:url('images/hero/hero-banner.jpg');
            background-size:cover; background-position:center; background-repeat:no-repeat;
            left:50%; width:100vw; max-width:none; transform:translateX(-50%) scale(var(--hero-zoom,1)); will-change:transform;
            transition:transform .12s ease-out;
            filter:contrast(1.02) saturate(1.02) brightness(0.98);
            pointer-events:none;
        }
        header.hero-banner::after{
            content:""; position:absolute; inset:0; z-index:-1;
            background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.4) 100%);
            left:50%; width:100vw; max-width:none; transform:translateX(-50%);
            pointer-events:none;
        }
        header .top-row{ display:flex; align-items:center; gap:20px; width:100%; justify-content:center; }
        header img{ height:140px; margin-bottom:8px; transition:transform .25s ease; }
        .motto{ font-size:28px; font-weight:700; font-family:'Cinzel', serif; display:inline-block; padding:8px 16px; border-radius:8px; position:relative; text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 30px rgba(255,255,255,0.4); background:linear-gradient(90deg, rgba(255,255,255,0.15), rgba(78,131,127,0.25)); backdrop-filter: blur(3px); border: 1px solid rgba(255,255,255,0.3); background-image: linear-gradient(90deg, #ffffff, #9bd3cc, #ffffff, #78a8a3, #ffffff); background-size:400% 100%; -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; animation: colorShift 4s ease-in-out infinite; box-shadow: 0 0 25px rgba(155, 211, 204, 0.3), 0 0 50px rgba(120, 168, 163, 0.2); }
        @keyframes colorShift{ 0%{ background-position:0% 50%; filter:brightness(1.1) drop-shadow(0 0 20px rgba(155, 211, 204, 0.4)); } 25%{ background-position:50% 50%; filter:brightness(1.15) drop-shadow(0 0 25px rgba(120, 168, 163, 0.5)); } 50%{ background-position:100% 50%; filter:brightness(1.2) drop-shadow(0 0 30px rgba(155, 211, 204, 0.6)); } 75%{ background-position:50% 50%; filter:brightness(1.15) drop-shadow(0 0 25px rgba(120, 168, 163, 0.5)); } 100%{ background-position:0% 50%; filter:brightness(1.1) drop-shadow(0 0 20px rgba(155, 211, 204, 0.4)); } }

        section{ padding:68px 18px; max-width:var(--max-width); margin:0 auto 32px; position:relative; scroll-margin-top:var(--nav-offset); }
        h2{ color:var(--text); font-family:'Helvetica Neue', Helvetica, Arial, sans-serif; font-size:34px; margin-bottom:18px; text-align:center; text-shadow:0 2px 6px rgba(0,0,0,0.06); }

        .section-light{ background:var(--surface); border-radius:var(--radius-lg); padding:36px 28px; box-shadow:var(--muted-shadow); border:1px solid var(--muted-border); }
    /* Services strip (full-width black line) */
    .services-strip{ position:relative; width:100vw; left:50%; transform:translateX(-50%); background:#000; padding:24px 0; margin-top:16px; overflow:hidden; }
    .services-strip .strip-shade{ position:absolute; top:0; bottom:0; width:12%; z-index:5; pointer-events:none; opacity:0; transition:opacity .25s ease; }
    .services-strip{ pointer-events:auto; }
    .services-strip .strip-shade.left{ left:0; background:linear-gradient(90deg, rgba(0,0,0,0.75), rgba(0,0,0,0)); }
    .services-strip .strip-shade.right{ right:0; background:linear-gradient(270deg, rgba(0,0,0,0.75), rgba(0,0,0,0)); }
    .services-grid{ display:flex; flex-wrap:nowrap; gap:22px; margin:0 auto; padding:0 28px; align-items:stretch; perspective:1000px; overflow:hidden; scroll-behavior:smooth; }
    .services-grid .service-card{ flex: 0 0 320px; }
    /* Services slider controls */
    .svc-dots{ position:absolute; left:50%; transform:translateX(-50%); bottom:10px; display:flex; gap:10px; z-index:8; pointer-events:auto; }
    .svc-dot{ width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.4); cursor:pointer; transition:all .18s ease; }
    .svc-dot.active{ width:22px; border-radius:12px; background:rgba(255,255,255,0.95); }
    .svc-arrow{ position:absolute; top:50%; transform:translateY(-50%); width:42px; height:42px; border-radius:50%; border:1px solid rgba(255,255,255,0.4); background:rgba(0,0,0,0.35); color:#fff; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:9; backdrop-filter: blur(4px); pointer-events:auto; }
    .svc-arrow.left{ left:8px; }
    .svc-arrow.right{ right:8px; }
    .svc-arrow:hover{ background:rgba(0,0,0,0.55); }
    /* Services slider controls */
    .svc-dots{ position:absolute; left:50%; transform:translateX(-50%); bottom:10px; display:flex; gap:10px; z-index:8; }
    .svc-dot{ width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.4); cursor:pointer; transition:all .18s ease; }
    .svc-dot.active{ width:22px; border-radius:12px; background:rgba(255,255,255,0.95); }
    .svc-arrow{ position:absolute; top:50%; transform:translateY(-50%); width:42px; height:42px; border-radius:50%; border:1px solid rgba(255,255,255,0.4); background:rgba(0,0,0,0.35); color:#fff; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:8; backdrop-filter: blur(4px); }
    .svc-arrow.left{ left:8px; }
    .svc-arrow.right{ right:8px; }
    .svc-arrow:hover{ background:rgba(0,0,0,0.55); }
    .service-card{ position:relative; display:flex; flex-direction:column; justify-content:space-between; min-height:var(--card-min-height); background:var(--bg); padding:20px; border-radius:12px; border:1px solid var(--muted-border); transition: transform .2s ease, box-shadow .28s ease; box-shadow:0 6px 18px rgba(0,0,0,0.06); overflow:hidden; transform-style:preserve-3d; will-change:transform; }
    .service-card .card-bg{ position:absolute; inset:0; background-size:cover; background-position:center; filter:brightness(0.92) contrast(1.02); transform: translate3d(0,0,-36px) scale(1.12); transition: transform .25s ease; will-change:transform; pointer-events:none; }
    .service-card .card-sheen{ position:absolute; inset:0; background:radial-gradient(1200px 600px at var(--mx,50%) var(--my,50%), rgba(255,255,255,0.16), rgba(255,255,255,0) 40%); opacity:0; transition:opacity .25s ease; pointer-events:none; mix-blend-mode:soft-light; }
    .service-card .card-overlay{ position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0.22), rgba(0,0,0,0.10) 30%, rgba(0,0,0,0.0)); pointer-events:none; }
    .service-card:hover{ box-shadow:0 18px 48px rgba(0,0,0,0.12); }
    .service-card .card-content{ position:relative; z-index:2; backdrop-filter:saturate(1.02); display:flex; flex-direction:column; height:100%; }
    .service-card .top{ text-align:center; padding:8px 12px; }
        .service-card i{ font-size:40px; color:var(--sage); margin-bottom:12px; }
        .service-card h3{ color:var(--text); font-family:'Cinzel', serif; font-size:20px; margin-bottom:10px; }
        .service-card p{ font-size:15px; color:var(--text); opacity:0.95; margin-bottom:16px; line-height:1.6; padding:0 6px; }
    .service-card .card-footer{ display:flex; justify-content:center; margin-top:auto; padding-top:8px; }
    /* Subtle float animation akin to a lively "What's New" section */
    @keyframes cardFloat{ 0%{ transform:translate3d(0,0,0) } 50%{ transform:translate3d(0,-6px,0) } 100%{ transform:translate3d(0,0,0) } }
    .service-card .card-content{ animation:cardFloat 6s ease-in-out infinite; will-change:transform; }
    .service-card:nth-child(3n+1) .card-content{ animation-delay:.2s; }
    .service-card:nth-child(3n+2) .card-content{ animation-delay:1s; }
    .service-card:nth-child(3n+3) .card-content{ animation-delay:1.8s; }
    @media (prefers-reduced-motion: reduce){ .service-card .card-content{ animation:none !important; } }

        .btn{ display:inline-flex; gap:10px; align-items:center; justify-content:center; border-radius:22px; padding:10px 18px; font-weight:600; text-decoration:none; transition: all var(--transition) ease; border:none; cursor:pointer; background:var(--accent-deep); color:var(--ivory); box-shadow:0 8px 28px rgba(0,0,0,0.08); }
        .btn:hover{ transform:translateY(-3px); box-shadow:0 20px 60px rgba(var(--accent-deep-rgb),0.16); filter:brightness(.94); }
        .btn:active{ transform:translateY(-1px); }

        .partners-logos{ display:flex; justify-content:center; gap:20px; margin-top:22px; align-items:center; flex-wrap:wrap; }
        /* Collab band (partners) */
        .collab-band{
            position:relative;
            background:rgb(19,22,21);
            padding:28px 0 34px;
            margin:32px 0;
            border-top:1px solid rgba(255,255,255,0.06);
            border-bottom:1px solid rgba(0,0,0,0.25);
            overflow:hidden;
            /* Full-bleed: ignore section's max-width and fill to edges */
            width:100vw; max-width:100vw; left:auto; transform:none;
            margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw);
        }
        :root[data-theme="light"] .collab-band{ background:rgb(19,22,21); }
        .collab-inner{ max-width:none; width:100%; margin:0 auto; padding:0 22px; }
        .collab-title{ text-align:center; font-size:12px; letter-spacing:0.12em; text-transform:uppercase; opacity:0.75; color:#eee; margin-bottom:18px; font-weight:800; }
        .collab-logos{ display:flex; align-items:center; justify-content:center; gap:72px; flex-wrap:wrap; }
        .collab-logos img{ height:110px; max-width:360px; object-fit:contain; display:block; filter:grayscale(100%) brightness(0.95) contrast(1.08); opacity:0.95; transition:opacity .2s ease; }
        .collab-logos img:hover{ opacity:1; }
        @media (max-width:1280px){
            .collab-logos{ gap:56px; }
            .collab-logos img{ height:98px; max-width:320px; }
        }
        @media (max-width:980px){
            .collab-logos{ gap:44px; }
            .collab-logos img{ height:88px; max-width:300px; }
        }
        @media (max-width:720px){
            .collab-logos{ gap:32px; }
            .collab-logos img{ height:78px; max-width:260px; }
        }
        @media (max-width:480px){
            .collab-logos{ gap:24px; }
            .collab-logos img{ height:66px; max-width:220px; }
        }
        [dir="rtl"] .collab-band{ direction:ltr; }
        .brand-values{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap:20px; margin-top:20px; }
        .testimonial{ background:var(--surface); padding:20px; border-radius:10px; border-left:4px solid var(--sage); font-style:italic; box-shadow:var(--muted-shadow); color:var(--text); }
        .testimonials{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:16px; margin-top:18px; }

        .gallery-full{
            position:relative; width:100%; height:calc(100vh - var(--nav-height) - 60px);
            display:flex; align-items:center; justify-content:center; overflow:hidden;
        }
        .gallery-slide{
            position:absolute; inset:0; display:flex; align-items:center; justify-content:center; transition:opacity .5s ease, transform .6s cubic-bezier(.2,.9,.2,1);
            will-change:transform, opacity;
            user-select:none;
        }
        .gallery-slide img{
            width:110%; height:110%; object-fit:cover; transform-origin:center center; transition:transform .08s linear; will-change:transform;
            box-shadow: 0 20px 60px rgba(0,0,0,0.45);
            pointer-events:none;
            -webkit-user-drag:none;
        }
        .gallery-overlay{
            position:absolute; left:8%; bottom:8%; max-width:50%; color:#fff; font-weight:800; font-size:34px; line-height:1.02;
            text-shadow: 0 6px 16px rgba(0,0,0,0.40);
            background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.12));
            padding:10px 14px; border-radius:8px; transition:filter .28s ease, opacity .28s ease;
            opacity:0.96; pointer-events:none;
        }
        .gallery-dots{ position:absolute; left:50%; transform:translateX(-50%); bottom:18px; display:flex; gap:10px; z-index:40; }
        .dot{ width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.4); cursor:pointer; transition:all .18s ease; }
        .dot.active{ width:22px; border-radius:12px; background:rgba(255,255,255,0.95); }

    .edge-shade{ position:absolute; top:0; bottom:0; width:18%; pointer-events:none; z-index:2; opacity:0; transition:opacity .25s ease; }
        .edge-shade.left{ left:0; background:linear-gradient(90deg, rgba(0,0,0,0.32), rgba(0,0,0,0)); }
        .edge-shade.right{ right:0; background:linear-gradient(270deg, rgba(0,0,0,0.32), rgba(0,0,0,0)); }

        #contact .contact-card{
            max-width:980px; margin:36px auto 0; background: linear-gradient(180deg, color-mix(in srgb, var(--surface) 86%, transparent), var(--surface));
            border-radius:14px; padding:20px; display:grid; grid-template-columns: 1fr 460px; gap:20px; align-items:stretch;
            box-shadow:0 18px 60px rgba(0,0,0,0.08); border:1px solid var(--muted-border);
        }
        #contact .contact-card .card-header{ grid-column:1/-1; display:flex; align-items:flex-start; justify-content:flex-start; padding:6px 4px 8px 4px; }
        #contact .contact-card .card-header h3{ margin:0; font-family:'Helvetica Neue', Helvetica, Arial, sans-serif; color:var(--text); font-size:20px; }
        #contact .contact-info{ padding:6px 4px; display:flex; flex-direction:column; justify-content:flex-start; }
        #contact .contact-info p{ margin-top:12px; font-size:15px; color:var(--text); opacity:0.95; }
        form.contact-form{ display:flex; flex-direction:column; gap:10px; height:100%; justify-content:flex-start; }
        .input-group{ position:relative; margin-bottom:6px; }
        .input-group i{ position:absolute; left:10px; top:50%; transform:translateY(-50%); color:var(--sage); font-size:16px; pointer-events:none; }
        .input-group input, .input-group textarea{ width:100%; padding:12px 12px 12px 40px; border-radius:10px; border:1px solid var(--muted-border); background:var(--bg); color:var(--text); font-size:15px; box-sizing:border-box; }
        .input-group textarea{ min-height:140px; resize:vertical; padding-top:14px; }
        .input-group input:focus, .input-group textarea:focus{ outline:none; box-shadow:0 10px 30px rgba(var(--accent-teal-rgb),0.12); border-color: color-mix(in srgb, var(--accent-teal) 36%, var(--muted-border)); }

        .contact-actions{ grid-column:2/3; display:flex; align-items:center; justify-content:center; margin-top:6px; }
        .contact-actions .cta{ display:inline-flex; align-items:center; gap:10px; padding:12px 24px; border-radius:10px; border:none; cursor:pointer; font-weight:700; min-width:160px; height:48px; justify-content:center; box-sizing:border-box; text-decoration:none; }
        .cta--send{ background:var(--accent-deep); color:var(--ivory); box-shadow:0 10px 28px rgba(var(--accent-deep-rgb),0.14); }

        footer{ background:var(--bg); color:var(--text); text-align:center; padding:36px 20px; border-top:1px solid var(--muted-border); margin-top:30px; }
        footer .legal{ opacity:0.85; font-size:13px; }

        @media (max-width:980px){
            #contact .contact-card{ grid-template-columns:1fr; padding:18px; }
            #contact .contact-card .card-header{ justify-content:center; margin-bottom:6px; }
            .contact-actions{ grid-column:auto; justify-content:center; }
            .gallery-full{ height:60vh; }
            .gallery-overlay{ font-size:20px; max-width:70%; left:6%; bottom:6%; }
            .nav-links{ padding:14px; }
        }
        @media (max-width:640px){
            header img{ height:110px; } .motto{ font-size:20px; } .nav-logo{ height:44px; } .theme-toggle{ width:40px; height:40px; } .language-toggle{ padding:6px 10px; } .nav-right{ gap:6px; } .gallery-overlay{ display:none; }
            .service-card{ padding:16px; }
            /* Mobile services: use native swipe slider with snap to avoid half-visible cards */
            .services-strip{ overflow:hidden; }
            .services-grid{ overflow-x:auto; overflow-y:hidden; -webkit-overflow-scrolling:touch; scroll-snap-type:x mandatory; scroll-padding:0 28px; gap:18px; }
            .services-grid .service-card{ flex: 0 0 calc(100vw - 56px); scroll-snap-align:center; }
            .svc-arrow, .svc-dots{ display:none !important; }
        }
        /* News/Blog */
        .news-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:18px; margin-top:12px; }
        .news-card{ background:var(--bg); border:1px solid var(--muted-border); border-radius:12px; overflow:hidden; box-shadow:var(--muted-shadow); display:flex; flex-direction:column; }
        .news-card img{ width:100%; height:180px; object-fit:cover; display:block; }
        .news-card .news-body{ padding:14px; display:flex; flex-direction:column; gap:8px; flex:1; }
        .news-meta{ font-size:12px; color:var(--sage); opacity:0.9; }
        .news-card h3{ font-size:18px; margin:0; font-family:'Cinzel', serif; color:var(--text); }
        .news-card p{ font-size:14px; color:var(--text); opacity:0.95; }
        .news-actions{ margin-top:auto; padding:0 14px 14px 14px; }

        /* Stats section */
        .stats{
            display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:16px; margin-top:12px;
        }
        .stat-card{
            background:var(--surface); border:1px solid var(--muted-border); border-radius:12px; padding:18px; text-align:center; box-shadow:var(--muted-shadow);
        }
        .stat-icon{ font-size:24px; color:var(--sage); margin-bottom:6px; }
        .stat-value{ font-family:'Cinzel', serif; font-size:32px; font-weight:800; color:var(--text); line-height:1; }
        .stat-label{ font-size:13px; color:var(--text); opacity:0.9; margin-top:6px; }
        [dir="rtl"] .stats{ direction:ltr; }
        [dir="rtl"] .stat-card .stat-label{ direction:rtl; text-align:right; }

    /* Map section */
    #mapWrap{ position:relative; width:100%; height:420px; border-radius:12px; overflow:hidden; box-shadow:var(--muted-shadow); border:1px solid var(--muted-border); }
    #map{ position:absolute; inset:0; }
    .map-legend{ position:absolute; bottom:10px; right:10px; background:rgba(0,0,0,0.6); color:#fff; padding:6px 10px; border-radius:8px; font-size:12px; backdrop-filter: blur(4px); }
    :root[data-theme="light"] .map-legend{ background:rgba(255,255,255,0.7); color:#222; }
    .map-legend .map-attr{ display:block; font-size:11px; opacity:0.8; margin-top:4px; }
    /* Elegant blinking indicator with sophisticated glow */
    .lv-pin{ position:relative; width:32px; height:32px; filter: drop-shadow(0 4px 12px rgba(0,0,0,0.25)); }
    .lv-pin-dot{ 
        position:absolute; left:50%; top:50%; width:16px; height:16px; 
        transform:translate(-50%, -50%); border-radius:50%; 
        background: linear-gradient(135deg, #ff4757 0%, #ff3838 50%, #c44569 100%);
        border: 2px solid rgba(255,255,255,0.3);
        box-shadow: 
            0 0 20px rgba(255,59,48,0.8), 
            0 0 40px rgba(255,59,48,0.6),
            0 0 60px rgba(255,59,48,0.4),
            inset 0 2px 4px rgba(255,255,255,0.2),
            inset 0 -2px 4px rgba(0,0,0,0.1); 
        animation:lvBlink 1.5s ease-in-out infinite; 
    }
    .lv-pin-pulse, .lv-pin-pulse2{ 
        position:absolute; left:50%; top:50%; width:16px; height:16px; 
        transform:translate(-50%, -50%); border-radius:50%; 
        border: 1px solid rgba(255,59,48,0.3);
    }
    .lv-pin-pulse{ 
        background: radial-gradient(circle, rgba(255,59,48,0.25) 0%, rgba(255,59,48,0.05) 70%, transparent 100%); 
        animation:lvPulse 2s ease-out infinite; 
    }
    .lv-pin-pulse2{ 
        background: radial-gradient(circle, rgba(255,59,48,0.20) 0%, rgba(255,59,48,0.03) 70%, transparent 100%); 
        animation:lvPulse 2.5s ease-out infinite .4s; 
    }
    @keyframes lvPulse{ 
        0%{ transform:translate(-50%, -50%) scale(1); opacity:0.9; } 
        70%{ transform:translate(-50%, -50%) scale(4); opacity:0; } 
        100%{ opacity:0; } 
    }
    @keyframes lvBlink{ 
        0%,100%{ 
            box-shadow: 
                0 0 20px rgba(255,59,48,0.8), 
                0 0 40px rgba(255,59,48,0.6),
                0 0 60px rgba(255,59,48,0.4),
                inset 0 2px 4px rgba(255,255,255,0.2),
                inset 0 -2px 4px rgba(0,0,0,0.1);
            filter: brightness(1.1) saturate(1.1);
        } 
        50%{ 
            box-shadow: 
                0 0 12px rgba(255,59,48,0.6), 
                0 0 24px rgba(255,59,48,0.4),
                0 0 36px rgba(255,59,48,0.25),
                inset 0 2px 4px rgba(255,255,255,0.15),
                inset 0 -2px 4px rgba(0,0,0,0.05);
            filter: brightness(0.9) saturate(0.9);
        } 
    }
    /* Add large spacing between hero and mission section */
    #mission.section-light{ padding-top:12px; margin-top:80px; }
    </style>
</head>
<body>

<canvas id="background-canvas" aria-hidden="true"></canvas>

<nav role="navigation" aria-label="Main navigation">
    <div class="nav-left">
        <a href="#home" aria-label="Home"><img src="images/logo.png" alt="Gravenor Logo" class="nav-logo"></a>
    </div>

    <div class="nav-center">
        <div id="navLinks" class="nav-links" aria-label="Primary">
            <a href="#home" data-key="homeNav">Home</a>
            <a href="#mission" data-key="missionNav">Mission</a>
            <a href="#services" data-key="servicesNav">Services</a>
            <a href="#partners" data-key="partnersNav">Partners</a>
            <a href="#values" data-key="valuesNav">Values</a>
            <a href="#testimonials" data-key="testimonialsNav">Testimonials</a>
            <a href="#founder" data-key="founderNav">Founder</a>
            <a href="#gallery" data-key="galleryNav">Gallery</a>
            <a href="#news" data-key="newsNav">News</a>
            <a href="#faqs" data-key="faqsNav">FAQs</a>
            <a href="#contact" data-key="contactNav">Contact</a>
        </div>
    </div>

    <div class="nav-right">
        <div class="language-dropdown" id="languageGroup">
            <button id="language-toggle" class="language-toggle" aria-haspopup="true" aria-expanded="false" onclick="toggleLanguageMenu()">
                <img src="https://flagcdn.com/w20/gb.png" alt="UK Flag" id="current-flag"> English
            </button>
            <div id="language-menu" class="language-menu" role="menu" aria-hidden="true">
                <div class="lang-block">
                    <div class="lang-title">Languages</div>
                    <div class="lang-list">
                        <button onclick="changeLanguage('en')"><img src="https://flagcdn.com/w20/gb.png" alt=""> English</button>
                        <button onclick="changeLanguage('tr')"><img src="https://flagcdn.com/w20/tr.png" alt=""> Türkçe</button>
                        <button onclick="changeLanguage('pl')"><img src="https://flagcdn.com/w20/pl.png" alt=""> Polski</button>
                        <button onclick="changeLanguage('ar')"><img src="https://flagcdn.com/w20/eg.png" alt=""> العربية</button>
                    </div>
                </div>
            </div>
        </div>

        <button id="themeBtn" class="theme-toggle" title="Toggle theme (auto → light → dark)" aria-pressed="false" aria-label="Theme mode" onclick="cycleTheme()">
            <svg id="themeIcon" width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M12 3v2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 19v2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4.22 4.22l1.42 1.42" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M18.36 18.36l1.42 1.42" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12h2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M21 12h2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4.22 19.78l1.42-1.42" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 7a5 5 0 100 10 5 5 0 000-10z" fill="currentColor" />
            </svg>
        </button>

        <button class="hamburger" aria-label="Menu" aria-expanded="false" onclick="toggleMenu()">☰</button>
    </div>
</nav>

<header id="home" class="hero-banner">
    <div class="top-row">
        <img src="images/logo.png" alt="Gravenor Logo" loading="lazy">
    </div>
    <div class="motto" id="motto">Where Elegance Meets Purpose</div>
</header>

<section id="mission" class="section-light">
    <h2 data-key="mission">Our Mission</h2>
    <p data-key="missionDesc" style="color:var(--sage); font-weight:600;">To empower purposeful impact through bespoke services rooted in refinement, trust, and global reach, blending timeless elegance with modern ambition.</p>
</section>

<section id="services">
    <h2 data-key="services">Our Services</h2>
    <div class="services-strip" aria-hidden="false">
      <div class="strip-shade left" id="servicesShadeLeft"></div>
      <div class="strip-shade right" id="servicesShadeRight"></div>
      <div class="services-grid" data-aos="fade-up" id="servicesGrid" role="list">
        <div class="service-card" data-bg="images/services/academy-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/academy-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-graduation-cap"></i>
                <h3 data-key="academy">Gravenor Academy</h3>
                <p data-key="academyDesc">Elite language learning and personal development programs designed for excellence.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/academy.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/diplomacy-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/diplomacy-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-balance-scale"></i>
                <h3 data-key="diplomacy">Gravenor Diplomacy</h3>
                <p data-key="diplomacyDesc">Strategic mediation and diplomatic consulting for global impact.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/diplomacy.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/translation-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/translation-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-language"></i>
                <h3 data-key="translation">Gravenor Translations</h3>
                <p data-key="translationDesc">Professional translation and personal assistance services with precision.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/translation.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/trade-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/trade-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-truck"></i>
                <h3 data-key="trade">Gravenor Trade</h3>
                <p data-key="tradeDesc">Facilitating international trade and commercial relations.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/trade.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/prive-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/prive-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-lock"></i>
                <h3 data-key="prive">Gravenor Privé</h3>
                <p data-key="priveDesc">Confidential bespoke services tailored for VIP clients.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/prive.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/digital-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/digital-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-laptop"></i>
                <h3 data-key="digital">Gravenor Digital</h3>
                <p data-key="digitalDesc">Web presence, branding, and personal website solutions.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/digital.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/voice-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/voice-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-microphone"></i>
                <h3 data-key="voice">Gravenor Voice</h3>
                <p data-key="voiceDesc">Multilingual voice-over and audio production services.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/voice.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/connect-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/connect-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-handshake"></i>
                <h3 data-key="connect">Gravenor Connect</h3>
                <p data-key="connectDesc">B2B representation and strategic partnership development.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/connect.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
        </div>

        <div class="service-card" data-bg="images/services/edu-connect-bg.jpg">
            <div class="card-bg" style="background-image:url('images/services/edu-connect-bg.jpg')"></div>
            <div class="card-overlay"></div>
            <div class="card-sheen"></div>
            <div class="card-content">
            <div class="top">
                <i class="fas fa-university"></i>
                <h3 data-key="eduConnect">Gravenor Edu Connect</h3>
                <p data-key="eduConnectDesc">Certified agency connecting students with prestigious universities.</p>
            </div>
            <div class="card-footer">
                <a class="btn" href="services/edu-connect.html" data-key="learnMore"><span>Learn More</span></a>
            </div>
            </div>
                </div>
            </div>
            <button class="svc-arrow left" id="svcPrev" aria-label="Previous" type="button">‹</button>
            <button class="svc-arrow right" id="svcNext" aria-label="Next" type="button">›</button>
            <div class="svc-dots" id="svcDots" aria-hidden="false"></div>
        </div>
</section>

<section id="partners" class="collab-band" aria-label="Partners and clients">
    <div class="collab-inner">
        <div class="collab-title" data-key="partnersTrusted">Trusted by leading organizations</div>
                <div class="collab-logos" role="list">
                    <img src="images/collab/Best Academy.png" alt="Best Academy" role="listitem" loading="lazy">
                    <img src="images/collab/Tatweer.png" alt="Tatweer" role="listitem" loading="lazy">
                </div>
    </div>
</section>

<section id="values">
    <h2 data-key="values">Brand Values</h2>
    <div class="brand-values">
        <div>
            <i class="fas fa-crown"></i>
            <h3 data-key="elegance">Elegance</h3>
            <p data-key="eleganceDesc">A visual and verbal language rooted in timeless style and understated luxury.</p>
        </div>
        <div>
            <i class="fas fa-shield-alt"></i>
            <h3 data-key="trust">Trust</h3>
            <p data-key="trustDesc">Built through experience, discretion, and high-caliber partnerships.</p>
        </div>
        <div>
            <i class="fas fa-bullseye"></i>
            <h3 data-key="purpose">Purpose</h3>
            <p data-key="purposeDesc">We don't serve everyone, we serve with intent, precision, and meaningful impact.</p>
        </div>
    </div>
</section>

<!-- Interactive Stats -->
<section id="stats" class="section-light" aria-label="Company statistics">
    <h2 data-key="statsHeading">By the numbers</h2>
    <div class="stats" id="statsGrid">
        <div class="stat-card" data-aos="fade-up">
            <div class="stat-icon"><i class="fas fa-handshake"></i></div>
            <div class="stat-value" data-counter data-target="120" data-suffix="+">0</div>
            <div class="stat-label" data-key="statsClients">Clients served</div>
        </div>
        <div class="stat-card" data-aos="fade-up" data-aos-delay="80">
            <div class="stat-icon"><i class="fas fa-briefcase"></i></div>
            <div class="stat-value" data-counter data-target="350" data-suffix="+">0</div>
            <div class="stat-label" data-key="statsProjects">Projects delivered</div>
        </div>
        <div class="stat-card" data-aos="fade-up" data-aos-delay="140">
            <div class="stat-icon"><i class="fas fa-globe"></i></div>
            <div class="stat-value" data-counter data-target="18" data-suffix=" countries">0</div>
            <div class="stat-label" data-key="statsCountries">Countries engaged</div>
        </div>
        <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
            <div class="stat-icon"><i class="fas fa-language"></i></div>
            <div class="stat-value" data-counter data-target="4" data-suffix=" languages">0</div>
            <div class="stat-label" data-key="statsLanguages">Languages supported</div>
        </div>
    </div>
</section>

<!-- Interactive Map -->
<section id="map-section" class="section-light" aria-label="Global presence" style="margin-top:28px;">
    <h2 data-key="mapHeading">Global Presence</h2>
    <p data-key="mapDesc" style="text-align:center; margin-bottom:12px; opacity:0.9;">Selected locations and partners we collaborate with.</p>
    <div id="mapWrap" data-aos="fade-up">
        <div id="map" role="region" aria-label="World map"></div>
        <div class="map-legend">
            <div data-key="mapLegend">Tap the indicator to learn more</div>
            <span class="map-attr">Map data © OpenStreetMap contributors · Tiles © CARTO</span>
        </div>
    </div>
</section>

<section id="testimonials" class="section-light">
    <h2 data-key="testimonials">Testimonials</h2>
    <div class="testimonials">
        <div class="testimonial">
            <div class="stars">★★★★★</div>
            <p data-key="testimonial1">“Gravenor helped us elevate our brand with elegance and vision. Highly recommended.” – M.Karam</p>
        </div>
        <div class="testimonial">
            <div class="stars">★★★★☆</div>
            <p data-key="testimonial2">“Professional, discreet, and inspiring to work with. Every detail was handled with care.” – 2H-Copany</p>
        </div>
    </div>
</section>

<section id="founder">
    <h2 data-key="founder">About the Founder</h2>
    <p data-key="founderDesc" style="line-height:1.7;">
        Gravenor is founded by
        <a id="founderAnchor" href="https://www.linkedin.com/in/mahmoudkeweisy/" target="_blank" rel="noopener noreferrer" style="color:inherit; text-decoration:none; font-weight:600; display:inline-flex; align-items:center; gap:6px;">
            <span>Mahmoud Keweisy</span>
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zM7 19h-3v-9h3v9zM5.5 8.8c-.966 0-1.75-.792-1.75-1.77s.784-1.77 1.75-1.77c.966 0 1.75.792 1.75 1.77s-.784 1.77-1.75 1.77zM20 19h-3v-4.635c0-1.108-.397-1.865-1.39-1.865-.758 0-1.21.51-1.408 1.002-.073.172-.091.411-.091.652v4.846h-3s.04-7.865 0-8.675h3v1.23c.398-.615 1.11-1.49 2.703-1.49 1.976 0 3.467 1.29 3.467 4.063v4.872z" fill="currentColor"/></svg>
        </a>
        , a multilingual educator, consultant, and creative with a passion for excellence. He brings a unique personal touch and refined vision to every project, blending global insight with local elegance.
    </p>
</section>

<section id="gallery">
    <h2 data-key="galleryNav">Gallery</h2>

    <div class="gallery-full" id="galleryFull" role="region" aria-label="Gallery">
        <div class="edge-shade left" id="shadeLeft" aria-hidden="true"></div>
        <div class="edge-shade right" id="shadeRight" aria-hidden="true"></div>

        <div class="gallery-slide" data-index="0" style="opacity:1; z-index:30;">
            <img src="images/event1.jpg" alt="PPCC" data-src="images/event1.jpg" draggable="false">
            <div class="gallery-overlay" aria-hidden="true">PPCC</div>
        </div>
        <div class="gallery-slide" data-index="1" style="opacity:0; z-index:20;">
            <img src="images/event2.jpg" alt="Egyptian National Day" data-src="images/event2.jpg" draggable="false">
            <div class="gallery-overlay" aria-hidden="true">Egyptian National Day By The Egyptian Embassy in Poland</div>
        </div>
        <div class="gallery-slide" data-index="2" style="opacity:0; z-index:10;">
            <img src="images/event3.jpg" alt="PTAK Warsaw Expo" data-src="images/event3.jpg" draggable="false">
            <div class="gallery-overlay" aria-hidden="true">PTAK Warsaw Expo</div>
        </div>

        <div class="gallery-dots" id="galleryDots" aria-hidden="true">
            <div class="dot active" data-i="0" aria-label="Slide 1"></div>
            <div class="dot" data-i="1" aria-label="Slide 2"></div>
            <div class="dot" data-i="2" aria-label="Slide 3"></div>
        </div>
    </div>

</section>

<section id="news" class="section-light">
    <h2 data-key="newsHeading">Latest News</h2>
    <div class="news-grid">
        <article class="news-card">
            <img src="images/news/news1.jpg" alt="Gravenor Academy update" loading="lazy">
            <div class="news-body">
                <div class="news-meta" data-key="news1Date">September 2025 · Academy</div>
                <h3 data-key="news1Title">New Elite Language Cohort Open</h3>
                <p data-key="news1Excerpt">We’ve opened enrollment for our autumn elite language cohort focusing on executive fluency and cultural nuance.</p>
            </div>
            <div class="news-actions"><a class="btn" href="#contact" data-key="readMore">Read More</a></div>
        </article>
        <article class="news-card">
            <img src="images/news/news2.jpg" alt="Diplomacy and trade insights" loading="lazy">
            <div class="news-body">
                <div class="news-meta" data-key="news2Date">September 2025 · Diplomacy</div>
                <h3 data-key="news2Title">5 Tips for International Negotiations</h3>
                <p data-key="news2Excerpt">From tone to timing—insider guidance for cross-border negotiations that protect relationships and outcomes.</p>
            </div>
            <div class="news-actions"><a class="btn" href="#contact" data-key="readMore">Read More</a></div>
        </article>
        <article class="news-card">
            <img src="images/news/news3.jpg" alt="Digital presence upgrade" loading="lazy">
            <div class="news-body">
                <div class="news-meta" data-key="news3Date">August 2025 · Digital</div>
                <h3 data-key="news3Title">Personal Brand Websites Launched</h3>
                <p data-key="news3Excerpt">We now offer bespoke personal websites for executives, artists, and public figures—crafted for elegance and clarity.</p>
            </div>
            <div class="news-actions"><a class="btn" href="#contact" data-key="readMore">Read More</a></div>
        </article>
    </div>
</section>

<section id="faqs" class="section-light">
    <h2 data-key="faqs">FAQs</h2>
    <div class="faq-item">
        <h4 data-key="faq1Q">What does Gravenor specialize in?</h4>
        <p data-key="faq1A">We specialize in education, diplomacy, translation, publishing, international trade, and confidential consulting.</p>
    </div>
    <div class="faq-item">
        <h4 data-key="faq2Q">Is Gravenor suitable for individuals or only institutions?</h4>
        <p data-key="faq2A">Gravenor works with both—offering customized support for individuals, institutions, and elite entities.</p>
    </div>
</section>

<section id="contact">
    <h2 data-key="contact">Contact</h2>

    <div class="contact-card" role="form" aria-labelledby="contactHeading">
        <div class="card-header">
            <h3 id="contactHeading">Get in touch</h3>
        </div>

        <div class="contact-info">
            <p style="margin-top:6px;">Reach out to discuss bespoke services, partnerships, or confidential enquiries. We respond within 48 hours.</p>
        </div>

        <form class="contact-form" id="contactForm" onsubmit="handleContactSubmit(event)" novalidate>
            <div class="input-group">
                <i class="fas fa-envelope" aria-hidden="true"></i>
                <input id="contactEmail" type="email" name="email" placeholder="Your email" required>
            </div>
            <div class="input-group">
                <i class="fas fa-pen" aria-hidden="true"></i>
                <textarea id="contactMessage" name="message" placeholder="Your message" required></textarea>
            </div>

            <div class="contact-actions" aria-hidden="false">
                <button id="sendBtn" type="submit" class="cta cta--send" aria-label="Send message">
                    <i class="fas fa-paper-plane" aria-hidden="true"></i>
                    <span>Send Message</span>
                </button>
            </div>
        </form>
    </div>
</section>

<footer>
    <p class="legal">© 2025 Gravenor. All rights reserved. Gravenor is a trading name of Gravenor Services.</p>
</footer>

<script>
    (function(){
        const canvas = document.getElementById('background-canvas');
        const ctx = canvas.getContext && canvas.getContext('2d');
        let particles = [];
        let rafId = null;

        function resizeCanvas(){
            if(!canvas) return;
            const dpr = Math.min(window.devicePixelRatio || 1, 2);
            canvas.width = innerWidth * dpr;
            canvas.height = innerHeight * dpr;
            canvas.style.width = innerWidth + 'px';
            canvas.style.height = innerHeight + 'px';
            if(ctx) ctx.setTransform(dpr,0,0,dpr,0,0);
        }
        addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function createParticlesForLight(){
            particles = [];
            for(let i=0;i<48;i++){
                particles.push({ x: Math.random()*innerWidth, y: Math.random()*innerHeight, r: Math.random()*2 + 0.6, speed: Math.random()*0.45 + 0.12, a: Math.random()*0.5 + 0.08 });
            }
        }
        function createParticlesForDark(){
            particles = [];
            for(let i=0;i<120;i++){
                particles.push({ x: Math.random()*innerWidth, y: Math.random()*innerHeight, r: Math.random()*1.2 + 0.2, twinkle: Math.random()*0.02 + 0.008, phase: Math.random()*Math.PI*2, a: Math.random()*0.9 + 0.05 });
            }
        }
        function startCanvas(){
            if(rafId) cancelAnimationFrame(rafId);
            function frame(){
                if(!ctx) return;
                ctx.clearRect(0,0,canvas.width,canvas.height);
                const isDark = document.documentElement.getAttribute('data-theme') === 'dark' || (getStoredMode() === 'auto' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
                if(isDark){
                    for(const p of particles){
                        p.phase += p.twinkle || 0.01;
                        const a = Math.max(0.04, Math.min(1, p.a + Math.sin(p.phase)*0.4));
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
                        ctx.fillStyle = `rgba(255,255,255,${a})`;
                        ctx.fill();
                    }
                } else {
                    for(const p of particles){
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
                        ctx.fillStyle = `rgba(212,175,55,${p.a})`;
                        ctx.fill();
                        p.y += p.speed;
                        if(p.y > innerHeight + 20){ p.y = -10; p.x = Math.random()*innerWidth; }
                    }
                }
                rafId = requestAnimationFrame(frame);
            }
            frame();
        }

        function applyCanvasMode(){
            const stored = getStoredMode();
            const systemDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const isDark = stored === 'dark' || (stored === 'auto' && systemDark);
            if(isDark) createParticlesForDark(); else createParticlesForLight();
            startCanvas();
        }

        function getStoredMode(){ return localStorage.getItem('site-theme') || 'auto'; }
        function setModeStored(value){ if(value === 'auto') localStorage.removeItem('site-theme'); else localStorage.setItem('site-theme', value); }

        function applyTheme(mode){
            const html = document.documentElement;
            if(mode === 'auto'){
                // Follow system preference and set attribute to reflect it now
                const mq = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
                const systemDark = mq && mq.matches;
                html.setAttribute('data-theme', systemDark ? 'dark' : 'light');
                setModeStored('auto');
            } else if(mode === 'light'){
                // Force light regardless of system
                html.setAttribute('data-theme','light');
                setModeStored('light');
            } else if(mode === 'dark'){
                html.setAttribute('data-theme','dark');
                setModeStored('dark');
            }
            applyCanvasMode();
            updateThemeIcon(mode);
        }

        function getInitialMode(){
            const stored = getStoredMode();
            if(stored === 'dark') return 'dark';
            if(stored === 'light') return 'light';
            return 'auto';
        }

        function updateThemeIcon(mode){
            const svg = document.getElementById('themeIcon');
            if(!svg) return;
            if(mode === 'auto'){
                // Half sun / half moon icon
                svg.innerHTML = `
                    <path d="M12 2a10 10 0 100 20 10 10 0 000-20z" fill="none" stroke="currentColor" stroke-width="1.6"/>
                    <path d="M12 2v20" stroke="currentColor" stroke-width="1.6"/>
                    <circle cx="8" cy="12" r="3" fill="currentColor"/>
                    <path d="M15 8a4 4 0 010 8" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                    <path d="M6.5 6.5l1.2 1.2M6 12H4.6M6.5 17.5l1.2-1.2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                `;
            } else if(mode === 'light'){
                svg.innerHTML = `
                    <circle cx="12" cy="12" r="4" fill="currentColor"/>
                    <path d="M12 2v3M12 19v3M2 12h3M19 12h3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                `;
            } else {
                svg.innerHTML = '<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/>';
            }
        }

        function cycleTheme(){
            const current = getStoredMode();
            let next;
            if(current === 'auto') next = 'light';
            else if(current === 'light') next = 'dark';
            else next = 'auto';
            applyTheme(next);
        }
        window.cycleTheme = cycleTheme;

        (function initTheme(){
            const initial = getInitialMode();
            applyTheme(initial);
            if(initial === 'auto' && window.matchMedia){
                const mq = window.matchMedia('(prefers-color-scheme: dark)');
                const onChange = () => applyTheme('auto');
                mq.addEventListener ? mq.addEventListener('change', onChange) : mq.addListener(onChange);
            }
        })();

    let translations = {};
    // Capture original English content to restore when switching back to English
    const baseTexts = {};
    const defaultTitle = document.title;
    const mottoElInit = document.getElementById('motto');
    const defaultSlogan = mottoElInit ? mottoElInit.textContent : '';
    // Determine current language: use stored selection only if valid; otherwise default to English
    const supportedLangs = new Set(['en','ar','pl','tr']);
    let storedLang = localStorage.getItem('selectedLanguage');
    if(!supportedLangs.has(storedLang)) storedLang = 'en';
    let currentLang = storedLang || 'en';
        async function loadTranslations(lang){
            // If English is the base language and no en.json exists, skip fetching and use default strings
            if(lang === 'en') { translations = {}; updatePage(); return; }
            const ts = Date.now();
            const headers = { cache:'no-store', headers: { 'Cache-Control': 'no-cache', 'Pragma': 'no-cache', 'Expires': '0', 'Accept': 'application/json' } };
            const tryUrls = [];
            // Prefer relative paths that work both locally and on GitHub Pages
            tryUrls.push(`lang/${lang}.json?v=${ts}`);
            if(window.location.pathname.includes('/services/')) tryUrls.push(`../lang/${lang}.json?v=${ts}`);
            // Absolute root path (for sites hosted at root domain)
            tryUrls.push(`/lang/${lang}.json?v=${ts}`);
            // file:// explicit URL
            tryUrls.push(new URL(`lang/${lang}.json`, location.href).href + `?v=${ts}`);
            let lastErr = null;
            for(const url of tryUrls){
                try{
                    const res = await fetch(url, headers);
                    if(res && res.ok){ translations = await res.json(); console.info('Translations loaded from', url); updatePage(); return; }
                    lastErr = new Error(`HTTP ${res && res.status}`);
                } catch(err){ lastErr = err; }
            }
            console.warn('Translation load failed for', lang, 'attempted URLs:', tryUrls, lastErr);
            translations = {}; updatePage();
        }
        function updatePage(){
            const isEnglish = currentLang === 'en';
            document.querySelectorAll('[data-key]').forEach(el=>{
                const key = el.getAttribute('data-key');
                const translated = translations[key];
                const base = baseTexts[key];
                const value = isEnglish ? base : (translated !== undefined ? translated : base);
                if(value !== undefined){
                    if(el.tagName === 'A') el.textContent = String(value).split(':')[0].trim();
                    else el.innerHTML = value;
                }
            });
            // Document title and motto
            const motto = document.getElementById('motto');
            if(isEnglish){
                document.title = defaultTitle;
                if(motto) motto.textContent = defaultSlogan;
            } else {
                if(translations.title) document.title = translations.title;
                if(translations.slogan && motto) motto.textContent = translations.slogan;
            }
            // Set RTL for Arabic
            const html = document.documentElement;
            if(currentLang === 'ar') { html.setAttribute('dir','rtl'); html.setAttribute('lang','ar'); }
            else { html.setAttribute('dir','ltr'); html.setAttribute('lang', currentLang || 'en'); }
        }
        function getFlagUrl(lang){
            const flags = {'en':'https://flagcdn.com/w20/gb.png','ar':'https://flagcdn.com/w20/eg.png','pl':'https://flagcdn.com/w20/pl.png','tr':'https://flagcdn.com/w20/tr.png'};
            return flags[lang] || flags['en'];
        }
        function changeLanguage(lang){
            currentLang = lang; localStorage.setItem('selectedLanguage', lang); loadTranslations(lang);
            const menu = document.getElementById('language-menu'); if(menu) menu.style.display = 'none';
            const toggle = document.getElementById('language-toggle');
            if(toggle) toggle.innerHTML = `<img src="${getFlagUrl(lang)}" alt="${lang}"> ${getLanguageName(lang)}`;
        }
        function getLanguageName(code){
            const names = {'en':'English','ar':'العربية','pl':'Polski','tr':'Türkçe'};
            return names[code] || 'English';
        }
        window.changeLanguage = changeLanguage;

        function toggleLanguageMenu(){
            const menu = document.getElementById('language-menu');
            const expanded = menu.style.display === 'block';
            menu.style.display = expanded ? 'none' : 'block';
            document.getElementById('language-toggle').setAttribute('aria-expanded', String(!expanded));
        }
        window.toggleLanguageMenu = toggleLanguageMenu;
        // Keyboard accessibility for lang menu
        document.getElementById('languageGroup')?.addEventListener('keydown', (e)=>{
            const menu = document.getElementById('language-menu');
            if(e.key === 'Escape'){ menu.style.display = 'none'; document.getElementById('language-toggle').setAttribute('aria-expanded','false'); }
        });

        function toggleMenu(){
            const links = document.getElementById('navLinks');
            if(!links) return;
            links.classList.toggle('show');
            const expanded = links.classList.contains('show');
            const hb = document.querySelector('.hamburger');
            if(hb) hb.setAttribute('aria-expanded', String(expanded));
        }
        window.toggleMenu = toggleMenu;

        document.addEventListener('click', (e)=>{
            const menu = document.getElementById('language-menu');
            const toggle = document.getElementById('language-toggle');
            if(menu && toggle && !menu.contains(e.target) && !toggle.contains(e.target)) menu.style.display = 'none';
        });

        function getNavHeight(){ return parseInt(getComputedStyle(document.documentElement).getPropertyValue('--nav-height')) || 86; }
        function scrollToElementById(id){
            const el = document.getElementById(id);
            if(!el) return;
            const navHeight = getNavHeight();
            const extra = 12; // reduced extra to avoid overlap of section boxes
            const rect = el.getBoundingClientRect();
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const targetY = rect.top + scrollTop - navHeight - extra;
            window.scrollTo({ top: targetY, behavior: 'smooth' });
        }
        document.querySelectorAll('a[href^="#"]').forEach(a=>{
            a.addEventListener('click', function(e){
                const href = this.getAttribute('href');
                if(!href || href === '#' || href === '#!') return;
                const id = href.replace('#','');
                if(document.getElementById(id)){
                    e.preventDefault();
                    scrollToElementById(id);
                    if(window.innerWidth <= 980){ document.getElementById('navLinks').classList.remove('show'); document.querySelector('.hamburger').setAttribute('aria-expanded','false'); }
                    history.replaceState(null,'', window.location.pathname + window.location.search);
                }
            });
        });

        window.addEventListener('load', function(){ if(location.hash){ history.replaceState(null,'', window.location.pathname + window.location.search); window.scrollTo(0,0); } });

        function handleContactSubmit(e){
            e.preventDefault();
            const email = document.getElementById('contactEmail').value.trim();
            const message = document.getElementById('contactMessage').value.trim();
            if(!email || !message){ alert('Please provide both email and message.'); return; }
            const sendBtn = document.getElementById('sendBtn');
            sendBtn.disabled = true;
            sendBtn.innerHTML = '<i class="fas fa-spinner fa-spin" aria-hidden="true"></i> <span>Sending...</span>';
            setTimeout(()=>{
                sendBtn.disabled = false;
                sendBtn.innerHTML = '<i class="fas fa-paper-plane" aria-hidden="true"></i> <span>Send Message</span>';
                alert('Thanks — your message was sent (demo).');
                document.getElementById('contactEmail').value = '';
                document.getElementById('contactMessage').value = '';
            }, 900);
        }
        window.handleContactSubmit = handleContactSubmit;

        function equalizeServiceCards(){
            const cards = Array.from(document.querySelectorAll('.service-card'));
            if(!cards.length) return;
            let max = 0;
            cards.forEach(c => { c.style.minHeight = ''; const h = c.getBoundingClientRect().height; if(h > max) max = h; });
            cards.forEach(c => c.style.minHeight = Math.max(max, parseInt(getComputedStyle(document.documentElement).getPropertyValue('--card-min-height'))) + 'px');
        }
        window.addEventListener('load', equalizeServiceCards);
        window.addEventListener('resize', () => { setTimeout(equalizeServiceCards, 160); if(window.innerWidth > 980){ const links = document.getElementById('navLinks'); if(links.classList.contains('show')) links.classList.remove('show'); } });

        resizeCanvas();
        applyCanvasMode();

        const galleryContainer = document.getElementById('galleryFull');
        const slides = Array.from(document.querySelectorAll('.gallery-slide'));
        const dots = Array.from(document.querySelectorAll('.dot'));
        const shadeLeft = document.getElementById('shadeLeft');
        const shadeRight = document.getElementById('shadeRight');
        let idx = 0;
        // Hero scroll zoom
        const hero = document.querySelector('header.hero-banner');
        let lastScrollY = window.scrollY;
        function updateHeroZoom(){
            if(!hero) return;
            if(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){ hero.style.setProperty('--hero-zoom','1'); return; }
            const maxZoom = 1.18; // subtle
            const start = 0;
            const end = 420; // pixels to reach max
            const sy = window.scrollY;
            const t = Math.min(Math.max((sy - start) / (end - start), 0), 1);
            const zoom = 1 + (maxZoom - 1) * t;
            hero.style.setProperty('--hero-zoom', zoom.toFixed(4));
        }
        updateHeroZoom();
        window.addEventListener('scroll', ()=>{
            // avoid excessive work by skipping tiny deltas
            const sy = window.scrollY;
            if(Math.abs(sy - lastScrollY) > 1){
                lastScrollY = sy; updateHeroZoom();
            }
        }, { passive:true });

        function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

        function setActive(i){
            i = Math.max(0, Math.min(slides.length - 1, i));
            idx = i;
            slides.forEach((s, k) => {
                const visible = k === i;
                s.style.opacity = visible ? '1' : '0';
                s.style.zIndex = visible ? 30 : (20 - k);
                s.style.transform = visible ? 'translate3d(0,0,0) scale(1)' : 'translate3d(0,0,0) scale(0.98)';
                const overlay = s.querySelector('.gallery-overlay');
                if(overlay){ overlay.style.filter = visible ? 'drop-shadow(0 6px 12px rgba(0,0,0,0.40))' : 'drop-shadow(0 4px 8px rgba(0,0,0,0.25))'; overlay.style.opacity = visible ? '0.98' : '0.9'; overlay.style.transition = 'opacity .35s ease, filter .35s ease'; overlay.style.textShadow = '0 6px 10px rgba(0,0,0,0.35)'; }
            });
            dots.forEach(d => d.classList.remove('active'));
            if(dots[i]) dots[i].classList.add('active');
            updateEdgeShades();
        }

        function updateEdgeShades(){
            shadeLeft.style.opacity = idx === 0 ? 0 : 0.6;
            shadeRight.style.opacity = idx === slides.length -1 ? 0 : 0.6;
        }

        dots.forEach(d => d.addEventListener('click', (e)=>{
            const i = parseInt(d.getAttribute('data-i'));
            setActive(i);
        }));

        // Smooth pointer-driven parallax for gallery using rAF
        let pmx = 0, pmy = 0, tmx = 0, tmy = 0, rafPM = null;
        function pointerMoveHandler(e){
            if(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
            const rect = galleryContainer.getBoundingClientRect();
            const cx = rect.left + rect.width/2;
            const cy = rect.top + rect.height/2;
            tmx = (e.clientX - cx) / rect.width;
            tmy = (e.clientY - cy) / rect.height;
            if(!rafPM){ rafPM = requestAnimationFrame(applyPointerMotion); }

            const center = rect.left + rect.width / 2;
            const halfRange = rect.width * 0.5;
            const leftStrength = clamp((center - e.clientX) / halfRange, 0, 1);
            const rightStrength = clamp((e.clientX - center) / halfRange, 0, 1);
            if(leftStrength > 0.02 && leftStrength > rightStrength){
                shadeLeft.style.opacity = clamp(leftStrength, 0, 0.9) * 0.6;
                shadeRight.style.opacity = 0;
            } else if(rightStrength > 0.02 && rightStrength > leftStrength){
                shadeRight.style.opacity = clamp(rightStrength, 0, 0.9) * 0.6;
                shadeLeft.style.opacity = 0;
            } else {
                shadeLeft.style.opacity = 0; shadeRight.style.opacity = 0;
            }

            const leftZone = rect.left + rect.width * 0.12;
            const rightZone = rect.right - rect.width * 0.12;
            if(e.clientX < leftZone) galleryContainer.style.cursor = idx > 0 ? 'w-resize' : 'not-allowed';
            else if(e.clientX > rightZone) galleryContainer.style.cursor = idx < slides.length - 1 ? 'e-resize' : 'not-allowed';
            else galleryContainer.style.cursor = 'default';
        }
        function applyPointerMotion(){
            rafPM = null;
            // ease to target for smoothness
            pmx += (tmx - pmx) * 0.18;
            pmy += (tmy - pmy) * 0.18;
            slides.forEach((s, k) => {
                const img = s.querySelector('img'); if(!img) return;
                const distanceIndex = k - idx;
                const depth = k === idx ? 110 : 32 + Math.abs(distanceIndex) * 14; // reduced depth
                let tx = pmx * depth * (distanceIndex * 0.28 + 1);
                let ty = pmy * depth * (Math.abs(distanceIndex) * 0.16 + 1);
                const scale = k===idx ? 1.07 : 1.02; // slight zoom in
                // Clamp translation so scaled image always covers viewport
                const rect = galleryContainer.getBoundingClientRect();
                const baseW = rect.width * 1.10; // 110% base width
                const extra = baseW * (scale - 1); // extra coverage in px
                const maxShift = extra * 0.45; // allow up to ~45% of extra
                if(tx > maxShift) tx = maxShift; if(tx < -maxShift) tx = -maxShift;
                if(ty > maxShift) ty = maxShift; if(ty < -maxShift) ty = -maxShift;
                img.style.transform = `translate3d(${tx}px, ${ty}px, 0) scale(${scale})`;
                const translateOffset = distanceIndex * 18;
                s.style.transform = `translate3d(${translateOffset}px, 0, 0)`;
            });
            if(Math.abs(tmx - pmx) > 0.002 || Math.abs(tmy - pmy) > 0.002){ rafPM = requestAnimationFrame(applyPointerMotion); }
        }

        function pointerLeaveHandler(){
            slides.forEach((s, k) => {
                const img = s.querySelector('img');
                if(img) img.style.transform = `translate3d(0,0,0) scale(${k===idx?1.07:1.02})`;
                s.style.transform = `translate3d(0,0,0)`;
            });
            galleryContainer.style.cursor = 'default';
            updateEdgeShades();
        }

        galleryContainer.addEventListener('pointermove', pointerMoveHandler);
        galleryContainer.addEventListener('pointerleave', pointerLeaveHandler);

        galleryContainer.addEventListener('click', function(e){
            const rect = galleryContainer.getBoundingClientRect();
            const leftZone = rect.left + rect.width * 0.12;
            const rightZone = rect.right - rect.width * 0.12;
            if(e.clientX < leftZone){
                if(idx > 0) setActive(idx - 1);
            } else if(e.clientX > rightZone){
                if(idx < slides.length - 1) setActive(idx + 1);
            }
        });

        document.addEventListener('keydown', function(e){
            if(e.key === 'ArrowLeft') { if(idx > 0) setActive(idx - 1); }
            if(e.key === 'ArrowRight') { if(idx < slides.length - 1) setActive(idx + 1); }
        });

        setActive(0);

        // Services cards tilt/parallax
        const serviceCards = Array.from(document.querySelectorAll('.service-card'));
        const clampDeg = (v)=> Math.max(-10, Math.min(10, v));
        serviceCards.forEach(card =>{
            // Update background image from data attribute if present
            const bg = card.getAttribute('data-bg');
            const bgEl = card.querySelector('.card-bg');
            if(bg && !bgEl){
                const d = document.createElement('div'); d.className = 'card-bg'; d.style.backgroundImage = `url('${bg}')`;
                card.insertBefore(d, card.firstChild);
                const ov = document.createElement('div'); ov.className='card-overlay'; card.insertBefore(ov, card.firstChild.nextSibling);
                const sh = document.createElement('div'); sh.className='card-sheen'; card.insertBefore(sh, card.firstChild.nextSibling.nextSibling);
                const contentWrap = document.createElement('div'); contentWrap.className='card-content';
                while(card.children.length > 3){ contentWrap.appendChild(card.children[3]); }
                card.appendChild(contentWrap);
            }
            let rect = null; let tx=0, ty=0, rX=0, rY=0; let ttx=0, tty=0, trX=0, trY=0; let raf=null;
            function onMove(e){
                if(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
                rect = rect || card.getBoundingClientRect();
                const x = (e.clientX - rect.left) / rect.width; // 0..1
                const y = (e.clientY - rect.top) / rect.height; // 0..1
                ttx = (x - 0.5) * 22; // px parallax
                tty = (y - 0.5) * 16;
                trY = clampDeg((x - 0.5) * 12);
                trX = clampDeg(-(y - 0.5) * 12);
                const sheen = card.querySelector('.card-sheen');
                if(sheen){ sheen.style.setProperty('--mx', `${(x*100).toFixed(1)}%`); sheen.style.setProperty('--my', `${(y*100).toFixed(1)}%`); sheen.style.opacity = '1'; }
                if(!raf){ raf = requestAnimationFrame(applyTilt); }
            }
            function applyTilt(){
                raf = null;
                tx += (ttx - tx)*0.15; ty += (tty - ty)*0.15; rX += (trX - rX)*0.15; rY += (trY - rY)*0.15;
                card.style.transform = `translate3d(0,0,0) rotateX(${rX}deg) rotateY(${rY}deg)`;
                const bg = card.querySelector('.card-bg'); if(bg){ bg.style.transform = `translate3d(${(-tx*0.35).toFixed(2)}px, ${(-ty*0.35).toFixed(2)}px, -36px) scale(1.12)`; }
            }
            function onLeave(){ rect=null; ttx=tty=trX=trY=0; const sheen = card.querySelector('.card-sheen'); if(sheen) sheen.style.opacity='0';
                card.style.transform = 'translate3d(0,0,0) rotateX(0deg) rotateY(0deg)'; const bg = card.querySelector('.card-bg'); if(bg){ bg.style.transform = 'translate3d(0,0,-36px) scale(1.12)'; }
            }
            card.addEventListener('pointermove', onMove);
            card.addEventListener('pointerleave', onLeave);
        });

        // Capture base English for all translatable elements once before any translation loads
        document.querySelectorAll('[data-key]').forEach(el=>{
            const key = el.getAttribute('data-key');
            if(!(key in baseTexts)){
                baseTexts[key] = (el.tagName === 'A') ? el.textContent : el.innerHTML;
            }
        });
        loadTranslations(currentLang);
        const langToggle = document.getElementById('language-toggle');
        langToggle && (langToggle.innerHTML = `<img src="${getFlagUrl(currentLang)}" alt="${currentLang}"> ${getLanguageName(currentLang)}`);

        // Stats counters (animate once when in view)
        (function initCounters(){
            const els = Array.from(document.querySelectorAll('[data-counter]'));
            if(!els.length || !('IntersectionObserver' in window)) return;
            const easeOut = t => 1 - Math.pow(1 - t, 3);
            const startCount = el => {
                const target = parseFloat(el.getAttribute('data-target')||'0') || 0;
                const suffix = el.getAttribute('data-suffix') || '';
                const duration = 1200 + Math.random()*600;
                const start = performance.now();
                function frame(now){
                    const p = Math.min(1, (now - start)/duration);
                    const val = Math.floor(target * easeOut(p));
                    el.textContent = val.toLocaleString() + suffix;
                    if(p < 1) requestAnimationFrame(frame);
                }
                requestAnimationFrame(frame);
            };
            const obs = new IntersectionObserver((entries, o)=>{
                entries.forEach(e=>{
                    if(e.isIntersecting){ startCount(e.target); o.unobserve(e.target); }
                });
            }, { threshold: 0.35 });
            els.forEach(el=> obs.observe(el));
        })();

        // Interactive map (Leaflet) — themed tiles and multiple elegant indicators
        function initMap(){
            const mapEl = document.getElementById('map');
            if(!mapEl || !window.L) return;
            const map = L.map(mapEl, { zoomControl:true, scrollWheelZoom:false, attributionControl:false });

            // Themed CARTO basemaps
            const cartoLight = () => L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                subdomains:'abcd', maxZoom:20
            });
            const cartoDark = () => L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                subdomains:'abcd', maxZoom:20
            });
            let baseLayer = null;
            function applyTiles(){
                const theme = document.documentElement.getAttribute('data-theme') || 'light';
                const next = theme === 'dark' ? cartoDark() : cartoLight();
                if(baseLayer) map.removeLayer(baseLayer);
                baseLayer = next.addTo(map);
            }
            applyTiles();

            // Locations with sleek blinking indicators
            const locations = [
                { name: 'Dubai, UAE', desc: 'Strategic partnerships and business development', lat: 25.2048, lng: 55.2708 },
                { name: 'Cairo, Egypt', desc: 'Regional diplomatic and cultural initiatives', lat: 30.0444, lng: 31.2357 },
                { name: 'Amsterdam, Netherlands', desc: 'European operations and consulting', lat: 52.3676, lng: 4.9041 },
                { name: 'London, UK', desc: 'International finance and education connections', lat: 51.5074, lng: -0.1278 },
                { name: 'Warsaw, Poland', desc: 'Partners and events', lat: 52.2297, lng: 21.0122 }
            ];

            const iconHtml = `
                <div class="lv-pin" aria-hidden="true">
                    <div class="lv-pin-pulse"></div>
                    <div class="lv-pin-pulse2"></div>
                    <div class="lv-pin-dot"></div>
                </div>`;
            const elIcon = L.divIcon({ html: iconHtml, className:'lv-marker', iconSize:[28,28], iconAnchor:[14,14] });
            
            // Add all location markers and collect them in a group
            const markers = [];
            locations.forEach(location => {
                const marker = L.marker([location.lat, location.lng], { icon: elIcon }).addTo(map);
                marker.bindPopup(`<strong>${location.name}</strong><br>${location.desc}`);
                markers.push(marker);
            });

            // Set view to show all markers with appropriate zoom
            const group = new L.featureGroup(markers);
            map.fitBounds(group.getBounds().pad(0.1), { maxZoom: 4 });

            // Improve UX: enable wheel zoom on hover only
            mapEl.addEventListener('mouseenter', ()=> map.scrollWheelZoom.enable());
            mapEl.addEventListener('mouseleave', ()=> map.scrollWheelZoom.disable());

            // Watch theme changes to update tiles
            const mo = new MutationObserver((ml)=>{ for(const m of ml){ if(m.attributeName==='data-theme'){ applyTiles(); } } });
            mo.observe(document.documentElement, { attributes:true });
        }
        window.addEventListener('load', initMap);

        // Services slider with arrows and dots (like Gallery)
    const servicesGrid = document.getElementById('servicesGrid');
    const svcPrev = document.getElementById('svcPrev');
    const svcNext = document.getElementById('svcNext');
    const svcDots = document.getElementById('svcDots');
    // Improve touch interactions
    if(servicesGrid){ servicesGrid.style.touchAction = 'pan-x pan-y'; }
        function isMobile(){ return window.innerWidth <= 640; }
        function servicesPages(){
            const viewport = servicesGrid.parentElement.clientWidth; // strip width
            const total = servicesGrid.scrollWidth;
            const pages = Math.max(1, Math.ceil(total / viewport));
            return { pages, viewport };
        }
        let svcIndex = 0;
        function buildSvcDots(){
            if(!svcDots) return;
            // On mobile, hide dots completely (handled via CSS too)
            if(isMobile()){ svcDots.innerHTML = ''; svcDots.style.display = 'none'; return; }
            const { pages } = servicesPages();
            svcDots.innerHTML = '';
            for(let i=0;i<pages;i++){
                const d = document.createElement('div'); d.className='svc-dot' + (i===svcIndex?' active':''); d.dataset.i = String(i);
                d.addEventListener('click', ()=> svcGo(i));
                svcDots.appendChild(d);
            }
            // Hide dots if only one page
            svcDots.style.display = pages > 1 ? 'flex' : 'none';
            updateSvcArrows();
        }
        function svcGo(i){
            if(isMobile()) return; // allow native swipe on mobile
            const { pages, viewport } = servicesPages();
            svcIndex = Math.max(0, Math.min(pages-1, i));
            servicesGrid.scrollTo({ left: svcIndex * viewport, behavior:'smooth' });
            Array.from((svcDots||{}).children||[]).forEach((el, k)=> el.classList.toggle('active', k===svcIndex));
            updateSvcArrows();
        }
        function updateSvcArrows(){
            const { pages } = servicesPages();
            if(!svcPrev || !svcNext) return;
            if(isMobile()){ svcPrev.style.display = 'none'; svcNext.style.display = 'none'; return; }
            svcPrev.style.display = svcIndex <= 0 ? 'none' : 'flex';
            svcNext.style.display = svcIndex >= pages-1 ? 'none' : 'flex';
        }
        svcPrev && svcPrev.addEventListener('click', ()=> svcGo(svcIndex-1));
        svcNext && svcNext.addEventListener('click', ()=> svcGo(svcIndex+1));
        window.addEventListener('resize', ()=>{ buildSvcDots(); if(!isMobile()) svcGo(svcIndex); });
        // Init
    buildSvcDots();
    // Ensure arrows correct on initial
    svcGo(0);

    })();
</script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>AOS.init({ duration: 900 });</script>
</body>
</html>
